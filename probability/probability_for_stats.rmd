---
title: Probability for Statistics
author: Kexing Ying
date: May 15, 2020
output: 
  pdf_document:
    toc: true
    toc_depth: 2
    number_sections: true
geometry: margin = 1.5in
urlcolor: red
header-includes:
  - \usepackage{tikz}
  - \usepackage{amsthm}
  - \usepackage{mathtools}
  - \usepackage{lipsum}
  - \usepackage[ruled,vlined]{algorithm2e}
  - \newtheorem{theorem}{Theorem}
  - \newtheorem{prop}{Proposition}[theorem]
  - \newtheorem{corollary}{Corollary}[theorem]
  - \newtheorem*{remark}{Remark}
  - \theoremstyle{definition}
  - \newtheorem{definition}{Definition}[section]
---

# Introduction 

## Probability Measures

Last year we saw briefly constructions and definitions relevant to working with 
probabilities such as \(\sigma\)-algebras, random variables and more. We will 
revisit them here with a more general (and more technical) approach.

\begin{definition}[\(\sigma\)-algebra]
  Let \(X\) be a set. A \(\sigma\)-algebra on \(X\), \(\mathcal{A}\) is a 
  collection of subsets of \(X\) such that 
  \begin{itemize}
    \item \(\varnothing \in \mathcal{A}\) 
    \item for all \(A \in \mathcal{A}\), \(A^C \in \mathcal{A}\)
    \item for all \((A_n)_{n = 1}^\infty \subseteq \mathcal{A}\), 
      \(\bigcup_n A_n \in \mathcal{A}\).
  \end{itemize}
\end{definition}

\begin{prop}
  Let \(X\) be a set and \(I\) a non-empty collection of \(\sigma\)-algebras on 
  \(X\). Then \(\bigcap I\) is also a \(\sigma\)-algebra on \(X\).
\end{prop}

This proposition is easy to check and thus, it makes sense to consider the 
\(\sigma\)-algebra generated by some set.

\begin{definition}[Generator of \(\sigma\)-algebra]
  Let \(X\) be a set and \(S \subseteq \mathcal{P}(X)\) a collection of subsets 
  of \(X\). Then the \(\sigma\)-algebra generated by \(S\) is 
  \[
    \sigma(S) := \bigcap \{\mathcal{A} \supseteq S \mid \mathcal{A} 
      \text{ is a \(\sigma\)-algebra on \(X\)} \}
  \]
\end{definition}

By the fact that the power set of \(X\) is a \(\sigma\)-algebra containing 
\(S\), we see that \(\{\mathcal{A} \supseteq S \mid \mathcal{A} 
\text{ is a \(\sigma\)-algebra on \(X\)} \}\) is non-empty and so for all 
\(S \subseteq \mathcal{P}(X)\), \(\sigma(S)\) a (and the smallest) 
\(\sigma\)-algebra on \(X\).

With this, we can construct a commonly seen \(\sigma\)-algebra, the 
Borel \(\sigma\)-algebra. Given some topological space \(X\), the Borel 
\(\sigma\)-algebra on \(X\) is the \(\sigma\)-algebra generated by 
\(\mathcal{T}_X\), i.e. \(\mathcal{B}(X) = \sigma(\mathcal{T}_X)\). 
We will most commonly work with the Borel \(\sigma\)-algebra on the real 
numbers \(\mathcal{B}(\mathbb{R})\).

We call the ordered pair \((X, \mathcal{A})\) where \(\mathcal{A}\) is a 
\(\sigma\)-algebra n \(X\) a *measurable space*.

\begin{definition}[Measure]
  Given a measurable space \((X, \mathcal{A})\), a measure on this measurable 
  space \(\mu : \mathcal{A} \to [0, \infty]\) is a function such that 
  \begin{itemize}
    \item \(\mu(\varnothing) = 0\)
    \item for all disjoint sequence 
      \((A_n)_{n = 1}^\infty \subseteq \mathcal{A}\),
      \(\mu\left(\bigsqcup_n A_n\right) = \sum_n \mu(A_n)\)
  \end{itemize}
\end{definition}

With measures defined, we can add an additional restriction to create a 
*probability space*.

\begin{definition}[Probability Measure]
  Let \(\mu\) be a measure on the measurable space \((X, \mathcal{A})\), then 
  \(\mu\) is a probability measure if and only if \(\mu(X) = 1\). We then call 
  the order triplet \((X, \mathcal{A}, \mu)\) a probability space.
\end{definition}

To distinguish probability space from normal measure spaces, we will often write 
\((\Omega, \mathcal{F}, \mathbb{P})\) to denote a probability space. We will 
call \(\Omega\) the *sample space*, \(\mathcal{F}\) the *events* and for all 
\(A \in \mathcal{F}\), \(\mathbb{P}(A)\) the *probability* of the event \(A\).

## Random variables

Now that we have the basic notion of a probability space, we would like to play 
around with it using *random variables*. In the most general sense, random 
variables are simply functions from the probability space to another measurable 
space, most commonly the real numbers equipped with \(\mathcal{B}(\mathbb{R})\). 

\begin{definition}[Measurable Functions]
  Let \((X, \mathcal{A})\) and \((Y, \mathcal{B})\) be two measurable spaces and 
  \(f : X \to Y\) a mapping between the two. We call \(f\) measurable if and 
  only if for all \(A \in \mathcal{B}\), \(f^{-1}(A) \in \mathcal{A}\).
\end{definition}

\begin{definition}[Random Variables]
  Let \((\Omega, \mathcal{F}, \mathbb{P})\) be a probability space and 
  \(E, \mathcal{A}\) be a measurable space. Then an \(E\)-valued random variable 
  is a measurable function \(X : \Omega \to E\).
\end{definition}

In general, we will only be working with real valued random variables, so the 
image measurable space is \((\mathbb{R}, \mathcal{B}(\mathbb{R}))\).

Often, when we have a random variable \(X : \Omega \to \mathbb{R}\), we might 
ask questions such as "what is the probability that \(X \in A\)" for some 
\(A \subseteq \text{Im} X\). We now see that this question is asking for exactly 
\(\mathbb{P}(X \in A) = \mathbb{P}(X^{-1}(A))\) (this makes sense as \(X\) is 
measurable).

Another property that is useful for random variables is the notion of 
independence. 

\begin{definition}[Independence of Events]
  Let \((\Omega, \mathcal{F}, \mathbb{P})\) be a probability space and 
  \((A_n) \subseteq \mathcal{F}\) a sequence of events. Then \((A_n)\) is said 
  to be independent if and only if for all \textit{finite} index set \(I\),
  \[\mathbb{P}\left(\bigcap_{n \in I} A_n \right) 
    = \prod_{n \in I} \mathbb{P}(A_n).\] 
\end{definition}

\begin{definition}[Independence of \(\sigma\)-algebras]
  Let \((\Omega, \mathcal{F}, \mathbb{P})\) be a probability space and 
  \((\mathcal{A}_n)\) be a sequence of sub-\(\sigma\)-algebras of 
  \(\mathcal{F}\). Then \((\mathcal{A}_n)\) is said to be independent if and 
  only if for all \((A_n) \subseteq \mathcal{F}\) a sequence of events such that 
  \(A_i \in \mathcal{A}_i\), \((A_n)\) is independent.
\end{definition}

Equipped with these two notions of independence, it makes sense to create a 
notion of some \(\sigma\)-algebra induced by arbitrary measurable functions and 
with that the notion of independence of random variables is also induced.

\begin{definition}[\(\sigma\)-algebra Generated by Functions]
  Let \(E\) be a set and \(\{f_i : E \to \mathbb{R} \mid i \in I\}\) be an 
  indexed family of real-valued functions. Then the \(\sigma\)-algebra on \(E\) 
  generated by these functions is 
  \[
    \sigma(\{f_i \mid i \in I\}) := 
    \sigma(\{f^{-1}(A) \mid A \in \mathcal{B}(\mathbb{R})\}).  
  \]
\end{definition}

Note that with this definition, we created the smallest \(\sigma\)-algebra on 
\(E\) such that all \(f_i\) are measurable.

\begin{definition}[Independence of Random Variables]
  Let \((\Omega, \mathcal{F}, \mathbb{P})\) be a probability space and \((X_n)\) 
  be a sequence of real-valued random variables. Then \((X_n)\) is said to be 
  independent if and only if the family of \(\sigma\)-algebras \(\sigma(X_n)\) 
  is independent.
\end{definition}

We will check that this definition of independence of random variables behave as 
intended, that is 
\(\mathbb{P}(X \in A, Y \in B) = \mathbb{P}(X \in A) \mathbb{P}(Y \in B)\).

\begin{theorem}
  Let \((\Omega, \mathcal{F}, \mathbb{P})\) be a probability space and 
  \(X, Y\) be real-valued random variables. THen \(X, Y\) are independent if 
  and only if for all \(A, B \in \mathcal{B}(\mathbb{R})\), 
  \[\mathbb{P}(X \in A, Y \in B) = \mathbb{P}(X \in A) \mathbb{P}(Y \in B).\]
\end{theorem}
\proof
  Recall that \(\mathbb{P}(X \in A, Y \in B) = 
  \mathbb{P}((X \in A) \cap (Y \in B)) = 
  \mathbb{P}(X^{-1}(A) \cap Y^{-1}(B))\). Now, if \(\sigma(X)\) and 
  \(\sigma(Y)\) are independent, as  \(X^{-1}(A) \in \sigma(X)\) and 
  \(Y^{-1}(B) \in \sigma(Y)\), by definition, we have 
  \(\mathbb{P}(X \in A, Y \in B) = \mathbb{P}(X \in A)\mathbb{P}(Y \in B)\).

  Similarly, if the equality in question is true for all 
  \(A, B \in \mathcal{B}(\mathbb{R})\), then the \(\sigma\)-algebras are 
  independent by definition, and thus, so are the random variables.
\qed
